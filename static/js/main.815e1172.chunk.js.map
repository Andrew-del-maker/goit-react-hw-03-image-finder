{"version":3,"sources":["Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Loader/Loader.js","Components/Modal/Modal.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","App.js","reportWebVitals.js","index.js"],"names":["Button","styled","button","Input","input","attrs","props","type","size","Searchbar","state","searchQuerry","handleSearchChange","event","setState","currentTarget","value","toLowerCase","handleFormSubmit","preventDefault","trim","onSubmit","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","className","this","placeholder","onChange","Component","ImageGalleryItem","showModal","modalImg","onClickModal","e","target","prevProps","prevState","onModal","onSetModalImg","searchPictures","map","pic","onClick","src","previewURL","alt","tags","largeImageURL","id","App","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","onOverlayClick","window","addEventListener","removeEventListener","createPortal","children","KEY","ImageGallery","page","loading","imgModal","toggleModal","setModalImg","fetch","then","res","json","hits","finally","newPictures","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","dataset","img","ButtonComponent","onLoadMore","handleLoadMore","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.815e1172.chunk.js","sourcesContent":["import { Component } from \"react\";\nimport { toast } from 'react-toastify'\nimport styled from \"styled-components\";\nimport './Seachbar.scss'\nimport PropTypes from 'prop-types';\n\n\nconst Button = styled.button`\n  display: inline-block;\n  color: palevioletred;\n  font-size: 1em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid palevioletred;\n  border-radius: 3px;\n  display: block;\n`;\n\nconst Input = styled.input.attrs(props => ({\n  type: \"text\",\n  size: props.size || \"1em\",\n}))`\n  border: 2px solid palevioletred;\n  margin: ${props => props.size};\n  padding: ${props => props.size};\n`;\n\n\nclass Searchbar extends Component{\n    state = {\n        searchQuerry: '',\n    }\n    handleSearchChange = event => {\n        this.setState({ searchQuerry: event.currentTarget.value.toLowerCase() });\n    };\n\n    handleFormSubmit = event => {\n        event.preventDefault();\n        if (this.state.searchQuerry.trim() === '') {\n            toast('enter search param', {\n            position: \"top-center\",\n            autoClose: 3000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined,\n            });\n            return;\n        }\n        this.props.onSubmit(this.state.searchQuerry);\n        this.setState({searchQuerry: ''})\n    }\n    render() {\n        return (\n\n            <header className=\"Searchbar\">\n                <form className=\"SearchForm\" onSubmit={this.handleFormSubmit}>\n                    <Button type=\"submit\" className=\"SearchForm-button\">\n                    <span className=\"SearchForm-button-label\">Search</span>\n                    </Button>\n\n                    <Input\n                    className=\"SearchForm-input\"\n                    type=\"text\"\n                    \n                    \n                    placeholder=\"Search images and photos\"\n                    onChange={this.handleSearchChange}\n                    />\n                </form>\n            </header>\n        )\n    }\n}\nSearchbar.propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n}\nexport default Searchbar;","import { Component } from \"react\";\nimport './ImageGalleryItem.scss';\nimport PropTypes from 'prop-types';\n\n\nclass ImageGalleryItem extends Component{\n    state={\n        showModal: false,\n        modalImg: null,\n    }\n    onClickModal = (e) => {\n        this.setState({\n            showModal: !this.state.showModal,\n            modalImg: e.target,\n        });\n    }\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.showModal !== this.state.showModal) {\n            \n            this.props.onModal(this.state.showModal);\n            this.props.onSetModalImg(this.state.modalImg);\n        }\n        \n    }\n    render() {\n        return this.props.searchPictures.map(pic => {\n            return <li key={pic.id} className=\"ImageGalleryItem\" onClick={this.onClickModal}>\n                <img src={pic.previewURL} alt={pic.tags} className=\"ImageGalleryItem-image\" data-img={pic.largeImageURL}></img>\n                \n            </li>\n        })\n    }\n}\nImageGalleryItem.propTypes = {\n    onModal: PropTypes.func.isRequired,\n    onSetModalImg: PropTypes.func.isRequired,\n    searchPictures: PropTypes.array.isRequired,\n} \nexport default ImageGalleryItem;","import Loader from \"react-loader-spinner\";\nimport { Component } from \"react\";\nexport default class App extends Component {\n  \n  render() {\n    return (\n      <Loader\n        type=\"Circles\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000} \n      />\n    );\n  }\n}","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from 'prop-types';\nimport './modal.scss'\n\nconst modalRoot = document.querySelector('#modal-root');\nclass Modal extends Component {\n    componentDidMount() {\n        window.addEventListener('keydown', this.handleKeyDown)\n    }\n    componentWillUnmount() {\n        window.removeEventListener('keydown', this.handleKeyDown)\n    }\n    handleKeyDown = e => {\n         if (e.code === 'Escape') {\n                this.props.onClose();\n         }\n    }\n    onOverlayClick = e => {\n        if (e.target === e.currentTarget) {\n            this.props.onClose();\n        }\n    }\n    render() {\n        return createPortal (\n            <div className=\"Overlay\" onClick={this.onOverlayClick}>\n             <div className=\"Modal\">\n                {this.props.children}\n             </div>\n            </div>, modalRoot\n\n        )\n    }\n}\nModal.propTypes = {\n    onClose: PropTypes.func.isRequired,\n}\nexport default Modal;","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport PropTypes from 'prop-types';\nimport styled from \"styled-components\";\nimport { Component } from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport Loader from \"../Loader\";\nimport Modal from \"../Modal\";\nimport './ImageGallery.scss'\n\nconst Button = styled.button`\n  display: inline-block;\n  color: palevioletred;\n  font-size: 1em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid palevioletred;\n  border-radius: 3px;\n  display: block;\n`;\nconst KEY = '21893197-6d6aad5e906c416c50a626e1f';\n\nclass ImageGallery extends Component{\n    state = {\n    \n        searchPictures: null,\n        page: 1,\n        loading: false,\n        showModal: false,\n        imgModal: null,\n\n    }\n    \n    componentDidUpdate(prevProps, prevState) {\n        \n        \n        if (prevProps.searchQuerry !== this.props.searchQuerry) {\n            this.setState({ loading: true , searchPictures: null, page: 1});\n            fetch(`https://pixabay.com/api/?q=${this.props.searchQuerry}&page=${this.props.page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n            .then(res => res.json())\n            .then(searchPictures=> this.setState({searchPictures: searchPictures.hits})).finally(()=>{this.setState({loading:false})})\n            \n            \n        }\n        if (prevProps.page !== this.props.page) {\n            this.setState({ page: this.props.page })\n            fetch(`https://pixabay.com/api/?q=${this.props.searchQuerry}&page=${this.props.page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n            .then(res => res.json())\n                .then(newPictures => this.setState({ searchPictures: [...this.state.searchPictures, ...newPictures.hits] })).then(setTimeout(() => {\n                    window.scrollTo({\n                        top: document.documentElement.scrollHeight,\n                        behavior: \"smooth\"\n                     })\n                },500))\n        }\n\n        \n    }\n    toggleModal = () => {\n    this.setState({\n      showModal: !this.state.showModal\n    })\n    }\n    setModalImg = (modalImg) => {\n        this.setState({\n            imgModal: modalImg\n        })\n    }\n    render() {\n        const { searchPictures, imgModal } = this.state;\n        return <ul className=\"ImageGallery\">\n            {this.state.loading&&<Loader/>}\n            {searchPictures && <ImageGalleryItem onModal={this.toggleModal} onSetModalImg={this.setModalImg} searchPictures={searchPictures} />}\n            {this.state.showModal && <Modal onClose={this.toggleModal}>\n                <img src={imgModal.dataset.img} alt={imgModal.alt} />\n                <Button className=\"closeIcon\" type=\"button\" onClick={this.toggleModal}>X</Button>\n            </Modal>}\n        </ul>\n            \n    }\n}\n\nImageGallery.propTypes = {\n    searchQuerry: PropTypes.string.isRequired,\n    page: PropTypes.number.isRequired,\n}\n\nexport default ImageGallery;","import { Component } from \"react\";\nimport './Button.scss';\nimport styled from \"styled-components\";\nimport PropTypes from 'prop-types';\n\nconst Button = styled.button`\n  display: inline-block;\n  color: palevioletred;\n  font-size: 1em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid palevioletred;\n  border-radius: 3px;\n  display: block;\n`;\n\nclass ButtonComponent extends Component {\n    state = {\n        page: 2,\n    }\n    \n    \n    onLoadMore = () => {\n        this.setState({ page: this.state.page + 1 });\n        this.props.onLoadMore(this.state.page);\n    };\n   \n    render(){\n        return (\n            <Button type='button' className='btn' onClick={this.onLoadMore}>\n            Load more\n        </Button>\n        )\n    }\n}\n\nButtonComponent.propTypes = {\n    onLoadMore: PropTypes.func.isRequired,\n    page: PropTypes.number.isRequired,\n}\n\nexport default ButtonComponent;","import React from \"react\";\nimport { Component } from \"react\";\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n  import './App.scss'\n\n\nimport Searchbar from \"./Components/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery\";\nimport Button from \"./Components/Button\";\n\nclass App extends Component{\n  state = {\n    searchQuerry: '',\n    page: 1, \n  }\n  \n  handleFormSubmit = (searchQuerry) => {\n    this.setState({searchQuerry})\n  }\n\n  handleLoadMore = (page) => {\n    this.setState({ page });\n  }\n  \n  render() {\n    const searchQuerry = this.state;\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit}/>\n        {searchQuerry &&\n          <ImageGallery searchQuerry={this.state.searchQuerry} page={this.state.page} />}\n        {searchQuerry.searchQuerry &&\n          <Button onLoadMore={this.handleLoadMore} page={this.state.page} />}\n        \n        \n        <ToastContainer />\n      </div>\n    )\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}