{"version":3,"sources":["Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Loader/Loader.js","Components/Modal/Modal.js","App.js","reportWebVitals.js","index.js"],"names":["Button","styled","button","Input","input","attrs","props","type","size","Searchbar","state","searchQuerry","handleSearchChange","event","setState","currentTarget","value","toLowerCase","handleFormSubmit","preventDefault","trim","onSubmit","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","className","this","placeholder","onChange","Component","ImageGalleryItem","searchPicture","onClick","src","previewURL","alt","tags","largeImageURL","ImageGallery","searchPictures","map","pic","id","ButtonComponent","onLoadMore","App","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","onOverlayClick","target","window","addEventListener","removeEventListener","createPortal","children","KEY","Btn","page","loading","showModal","modalImg","handleLoadMore","toggleModal","setModalImg","imgModal","onClickModal","prevProps","prevState","fetch","then","res","json","hits","finally","newPictures","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","dataset","img","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e2d46cf5.chunk.js","sourcesContent":["import { Component } from \"react\";\nimport { toast } from 'react-toastify'\nimport styled from \"styled-components\";\nimport './Seachbar.scss'\nimport PropTypes from 'prop-types';\n\n\nconst Button = styled.button`\n  display: inline-block;\n  color: palevioletred;\n  font-size: 1em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid palevioletred;\n  border-radius: 3px;\n  display: block;\n`;\n\nconst Input = styled.input.attrs(props => ({\n  type: \"text\",\n  size: props.size || \"1em\",\n}))`\n  border: 2px solid palevioletred;\n  margin: ${props => props.size};\n  padding: ${props => props.size};\n`;\n\n\nclass Searchbar extends Component{\n    state = {\n        searchQuerry: '',\n    }\n    handleSearchChange = event => {\n        this.setState({ searchQuerry: event.currentTarget.value.toLowerCase() });\n\n\n    };\n\n    handleFormSubmit = event => {\n        event.preventDefault();\n        if (this.state.searchQuerry.trim() === '') {\n            toast('enter search param', {\n            position: \"top-center\",\n            autoClose: 3000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined,\n            });\n            return;\n        }\n        this.props.onSubmit(this.state.searchQuerry);\n        this.setState({ searchQuerry: '' })\n    }\n    render() {\n        \n        return (\n\n            <header className=\"Searchbar\">\n                <form className=\"SearchForm\" onSubmit={this.handleFormSubmit}>\n                    <Button type=\"submit\" className=\"SearchForm-button\">\n                    <span className=\"SearchForm-button-label\">Search</span>\n                    </Button>\n\n                    <Input\n                    className=\"SearchForm-input\"\n                    type=\"text\"\n                    \n                    \n                    placeholder=\"Search images and photos\"\n                    onChange={this.handleSearchChange}\n                    />\n                </form>\n            </header>\n        )\n    }\n}\nSearchbar.propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n}\nexport default Searchbar;","import { Component } from \"react\";\nimport './ImageGalleryItem.scss';\nimport PropTypes from 'prop-types';\n\n\nclass ImageGalleryItem extends Component{\n    \n    render() {\n        const { searchPicture, onClick } = this.props;\n        return <li  className=\"ImageGalleryItem\" onClick={onClick}>\n                <img src={searchPicture.previewURL} alt={searchPicture.tags} className=\"ImageGalleryItem-image\" data-img={searchPicture.largeImageURL}></img>\n                \n            </li>\n        \n    }\n}\n\nImageGalleryItem.propTypes = {\n    searchPicture: PropTypes.any,\n    onClick: PropTypes.func.isRequired,\n}\nexport default ImageGalleryItem;","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport PropTypes from 'prop-types';\nimport { Component } from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport './ImageGallery.scss'\n\n\n\nclass ImageGallery extends Component{\n \n    render() {\n        const { searchPictures } = this.props;\n        return <ul className=\"ImageGallery\">\n            \n            {searchPictures && searchPictures.map(pic =>\n                <ImageGalleryItem key={pic.id} searchPicture={pic} onClick={this.props.onClick}/>)}\n            \n        </ul>\n            \n    }\n}\n\nImageGallery.propTypes = {\n    searchPictures: PropTypes.array,\n    onClick: PropTypes.func.isRequired,\n}\nexport default ImageGallery;","import { Component } from \"react\";\nimport './Button.scss';\nimport styled from \"styled-components\";\nimport PropTypes from 'prop-types';\n\nconst Button = styled.button`\n  display: inline-block;\n  color: palevioletred;\n  font-size: 1em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid palevioletred;\n  border-radius: 3px;\n  display: block;\n`;\n\nclass ButtonComponent extends Component {\n       \n    render(){\n        return (\n            <Button type='button' className='btn' onClick={this.props.onLoadMore}>\n            Load more\n        </Button>\n        )\n    }\n}\n\nButtonComponent.propTypes = {\n    onLoadMore: PropTypes.func.isRequired,\n}\n\nexport default ButtonComponent;","import Loader from \"react-loader-spinner\";\nimport { Component } from \"react\";\nexport default class App extends Component {\n  \n  render() {\n    return (\n      <Loader\n        type=\"Circles\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000} \n      />\n    );\n  }\n}","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from 'prop-types';\nimport './modal.scss'\n\nconst modalRoot = document.querySelector('#modal-root');\nclass Modal extends Component {\n    componentDidMount() {\n        window.addEventListener('keydown', this.handleKeyDown)\n    }\n    componentWillUnmount() {\n        window.removeEventListener('keydown', this.handleKeyDown)\n    }\n    handleKeyDown = e => {\n         if (e.code === 'Escape') {\n                this.props.onClose();\n         }\n    }\n    onOverlayClick = e => {\n        if (e.target === e.currentTarget) {\n            this.props.onClose();\n        }\n    }\n    render() {\n        return createPortal (\n            <div className=\"Overlay\" onClick={this.onOverlayClick}>\n             <div className=\"Modal\">\n                {this.props.children}\n             </div>\n            </div>, modalRoot\n\n        )\n    }\n}\nModal.propTypes = {\n    onClose: PropTypes.func.isRequired,\n}\nexport default Modal;","import React from \"react\";\nimport { Component } from \"react\";\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.scss'\n  import styled from \"styled-components\";\n\n\n\nimport Searchbar from \"./Components/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery\";\nimport Button from \"./Components/Button\";\nimport Loader from \"./Components/Loader\";\nimport Modal from \"./Components/Modal\";\n\n\n\nconst KEY = '21893197-6d6aad5e906c416c50a626e1f';\n\nconst Btn = styled.button`\n  display: inline-block;\n  color: palevioletred;\n  font-size: 1em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid palevioletred;\n  border-radius: 3px;\n  display: block;\n`;\n\nclass App extends Component{\n  state = {\n    searchQuerry: '',\n    page: 1,\n    searchPictures: null,\n    loading: false,\n    showModal: false,\n    modalImg: null,\n  }\n  \n  handleFormSubmit = (searchQuerry) => {\n    this.setState({ searchQuerry })\n  }\n\n  handleLoadMore = (page) => {\n    this.setState({ page: this.state.page + 1 });\n  }\n\n  \n  componentDidUpdate(prevProps,prevState) {\n        \n    if (this.state.searchQuerry !== prevState.searchQuerry) {\n            this.setState({ loading: true , searchPictures: null, page: 1});\n            fetch(`https://pixabay.com/api/?q=${this.state.searchQuerry}&page=${this.state.page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n            .then(res => res.json())\n            .then(searchPictures=> this.setState({searchPictures: searchPictures.hits})).finally(()=>{this.setState({loading:false})})\n        }\n        if (prevState.page !== this.state.page) {\n            this.setState({ page: this.state.page })\n            fetch(`https://pixabay.com/api/?q=${this.state.searchQuerry}&page=${this.state.page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n            .then(res => res.json())\n                .then(newPictures => this.setState({ searchPictures: [...this.state.searchPictures, ...newPictures.hits] })).then(setTimeout(() => {\n                    window.scrollTo({\n                        top: document.documentElement.scrollHeight,\n                        behavior: \"smooth\"\n                     })\n                },500))\n        }\n\n        \n    }\n    toggleModal = () => {\n    this.setState({\n      showModal: !this.state.showModal\n    })\n    }\n    setModalImg = (modalImg) => {\n        this.setState({\n            imgModal: modalImg\n        })\n    }\n    onClickModal = (e) => {\n        this.setState({\n            showModal: !this.state.showModal,\n            modalImg: e.target,\n        });\n    }\n\n  render() {\n    const {searchQuerry, loading, searchPictures, showModal, modalImg} = this.state;\n   \n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {loading&&<Loader/>}\n        <ImageGallery searchPictures={searchPictures} onClick={this.onClickModal}/>\n        {searchQuerry &&\n          <Button onLoadMore={this.handleLoadMore} />}\n        {showModal && <Modal onClose={this.toggleModal}>\n                <img src={modalImg.dataset.img} alt={modalImg.alt} />\n                <Btn className=\"closeIcon\" type=\"button\" onClick={this.toggleModal}>X</Btn>\n            </Modal>}\n        <ToastContainer />\n      </div>\n    )\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}